<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Boilerplate : Quick Restify Sequelize boilerplate">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Boilerplate</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/lukealbao/boilerplate">View on GitHub</a>

          <h1 id="project_title">Boilerplate</h1>
          <h2 id="project_tagline">Quick Restify Sequelize boilerplate</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/lukealbao/boilerplate/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/lukealbao/boilerplate/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="λαlbao-boilerplate" class="anchor" href="#%CE%BB%CE%B1lbao-boilerplate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>λαlbao Boilerplate</h1>

<p>This repo provides a barebones structure for a Nodejs service built on
<code>node-restify</code> and <code>sequelize</code>. It allows easy configuring of separate
environments via extending defaults in the <code>config/</code> directory, as
well as some specialized <code>make</code> targets for easy setup and deployment.</p>

<h1>
<a id="get-started" class="anchor" href="#get-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get started</h1>

<ul>
<li>Download the source @ <a href="https://github.com/lukealbao/boilerplate/releases/latest">https://github.com/lukealbao/boilerplate/releases/latest</a>
</li>
<li>Run <code>git init</code>
</li>
<li>That's it. If you want deeper instructions (which you do), keep reading.</li>
</ul>

<h1>
<a id="initial-configuration" class="anchor" href="#initial-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Initial configuration</h1>

<p>Before you start writing some code, you'll need to do a couple house
cleaning things first.</p>

<h2>
<a id="personalize-your-repo" class="anchor" href="#personalize-your-repo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Personalize your repo</h2>

<ul>
<li>[ ] Set up a git pre-commit hook for linting:
<code>make githooks</code>
</li>
<li>[ ] Run <code>npm install</code>. Out of the box you will get the dependencies
listed below.</li>
<li>[ ] Change the <code>name</code> and <code>version</code> in <code>package.json</code>.</li>
</ul>

<h2>
<a id="configure" class="anchor" href="#configure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure</h2>

<p>Configuration is a chore. This will be a little easier. This
boilerplate attempts to modularize configuration to facilitate
configuring different environments. Here's what you need to know:</p>

<ol>
<li>An "environment" is defined by the <code>NODE_ENV</code> string in the
environment of the user running the Node process. This appears in
<code>process.env.NODE_ENV</code> variable in a Node process. Setting this is
done via your shell environment.</li>
<li>The <code>config</code> folder exports a single object, which contains the
<em>active</em> configuration according to the current
<code>NODE_ENV</code>. Elsewhere in your application code, you should
<code>require('./config')</code> and let the environment set the differences.</li>
<li>You set your default configurations in <code>config/defaults.js</code>.</li>
<li>You set overrides or extensions for various environments by
configuring <code>config/&lt;environment-name&gt;.js</code>.</li>
<li>Environment configurations <em>extend</em> and <em>overwrite</em> defaults. Thus,
any configuration in the <code>default.js</code> that is not overwritten by an
environment configuration will be present in the exported
configuration - which helps minimize duplication. </li>
</ol>

<p>See <code>config/index.js</code> for more details on customizing
configurations. <strong>PROTIP:</strong> From the root of the project directory,
you can call <code>make printcfg</code> to see the entire <code>config</code> exported in
the current environment, or use <code>make cfg-&lt;element&gt;</code> for a specific
item using dot notation. E.g., <code>make cfg-db.user</code> will print <code>root</code>
under a fresh boilerplate install.</p>

<h2>
<a id="set-up-a-database" class="anchor" href="#set-up-a-database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Set up a database</h2>

<p><code>make newdb</code> will give you a new database, provided your database
daemon is running, and you have configured a database name in your <code>config</code>.</p>

<p>Once you have defined your models and added them to the object
exported by <code>lib/db.js</code>, you can <code>make checkdb</code>, and it will create
your schema.</p>

<h1>
<a id="conventions" class="anchor" href="#conventions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Conventions</h1>

<h2>
<a id="app-code" class="anchor" href="#app-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>App code</h2>

<ul>
<li>Put your restify declarations in <code>api.js</code>. By default, <code>index.js</code>
will spin up a worker running <code>api.js</code> for each available CPU.</li>
<li>Define handlers in the <code>handlers/</code> directory. Each file in that
directory should export a single restify-compliant (i.e.,
<code>(req, res, next)</code> signature) function. The <code>handlers/index.js</code>
helper script will export the <code>handlers</code> directory as a single
object, attaching all files as camelCased sub-object. So if you add
a new handler in <code>/handlers/get-all-the-things.js</code>, you can access
it with <code>require('./handlers').getAllTheThings</code>. Pretty cool!</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Boilerplate maintained by <a href="https://github.com/lukealbao">lukealbao</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
